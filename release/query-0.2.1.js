!function(){"use strict";function a(b){var c=this;return c.selectors=b,c.els=[],c.promise=new window.$.Promise,function(){window.$.generator(c,b)||a._initEls(c,b)}(),c}a._initEls=function(a,b){var c=window.$.cache.get(b);c?a.els=c:(a.els=document.querySelectorAll.call(document,b),window.$.cache.set(b,a.els))},window.$=function(b){return new a(b)},window.$.init=function(){window.$.method.setup(a)}}(),function(){"use strict";function a(){this.state=1,this._thenHandler=[]}a.prototype.resolve=function(){var a=this._thenHandler.shift();this.state=1,a&&a()},a.prototype.then=function(a){this.state?(this.state=0,a()):this._thenHandler.push(a)},window.$.Promise=a}(),function(){"use strict";function a(){}a.list=["attribute","node","class","display","event","time","search","style"],a._exec=function(a,b){for(var c=0;c<a.els.length;)b.call(a,a.els[c]),++c},a._getMethods=function(){for(var a=this.list.length,b=[];a--;)b=b.concat(this[this.list[a]]);return b},a.GETTERS_EMPTY=["text","html","value","class"],a.GETTERS_SINGLE=["attr"],a._isSyncStyle=function(a){return-1===a.indexOf(":")?!0:!1},a._isSync=function(a,b){return"find"===a||"get"===a?!0:b.length||-1===this.GETTERS_EMPTY.indexOf(a)?1===b.length&&-1!==this.GETTERS_SINGLE.indexOf(a)?!0:"style"===a&&b&&1===b.length&&this._isSyncStyle(b[0])?!0:void 0:!0},a._convert=function(b,c){return function(){var d=this,e=arguments;return a._isSync(b,e)?c(d,e):(this.promise.then(function(){c(d,e)}),this)}},a.push=function(a){this.list.push(a)},a.setup=function(a){for(var b=this._getMethods(),c=0;c<b.length;)a.prototype[b[c]]=this._convert(b[c],b[c+=1]),++c},window.$.method=a}(),function(){"use strict";function a(){}a.REG_HTML_OPEN=/^<([^>]+)>$/,a.REG_HTML_CLOSE=/^<([^>]+)>([\s\S]*)<\/[^>]+>$/,a.REG_ATTRS=/([^=^\s]*)="([^"]*)"/g,a._setupAttr=function(a,b){for(var c;null!==(c=this.REG_ATTRS.exec(b));)a.setAttribute(c[1],c[2])},a._createElesOpen=function(a){var b=this.REG_HTML_OPEN.exec(a),c=document.createElement(b[1].split(" ")[0]);return this._setupAttr(c,b[1]),c},a._createElesClose=function(a){var b=this.REG_HTML_CLOSE.exec(a),c=document.createElement(b[1].split(" ")[0]);return this._setupAttr(c,b[1]),c.innerHTML=b[2],c},a.isSelect=function(a){return!(this.REG_HTML_OPEN.test(a)||this.REG_HTML_CLOSE.test(a))},a.createEles=function(a,b){var c;return c=this.REG_HTML_OPEN.test(b)?this._createElesOpen(b):this._createElesClose(b),a.els.push(c)},window.$.generator=function(b,c){return a.isSelect(c)?null:a.createEles(b,c)}}(),function(){"use strict";function a(){}a.data={},a.get=function(a){return this.data[a]},a.set=function(a,b){this.data[a]=b},a["delete"]=function(a){this.data[a]=null},a.clear=function(){this.data={}},window.$.cache=a}(),function(){"use strict";function a(){}a.METHODS_MAP={text:"innerText",html:"innerHTML",value:"value","class":"className"},a._method=function(a,b,c){return function(d,e){return"attr"!==c&&void 0!==e[0]||"attr"===c&&void 0!==e[1]?(window.$.method._exec(d,function(b){a(b,e[0],e[1])}),void d.promise.resolve()):b(d.els[0],e[0])}},a._generaMethod=function(a){var b=this;return this._method(function(c,d){c[b.METHODS_MAP[a]]=d},function(c){return c[b.METHODS_MAP[a]]},a)},a._generaAttr=function(){return this._method(function(a,b,c){a.setAttribute(b,c)},function(a,b){return a.getAttribute(b)},"attr")},window.$.method.attribute=function(){var b=[];for(var c in a.METHODS_MAP)a.METHODS_MAP.hasOwnProperty(c)&&(b.push(c),b.push(a._generaMethod(c)));return b.push("attr"),b.push(a._generaAttr()),b}()}(),function(){"use strict";function a(a,b){window.$.method._exec(a,function(a){c(b[0]).test(a.className)||(a.className+=a.className?" "+b[0]:b[0])}),a.promise.resolve()}function b(a,b){window.$.method._exec(a,function(a){a.className=a.className.replace(c(b[0])," ").trim()}),a.promise.resolve()}function c(a){var b="^"+a+"$|^"+a+"\\s|\\s"+a+"\\s|\\s"+a+"$";return new RegExp(b)}window.$.method["class"]=["addClass",a,"removeClass",b]}(),function(){"use strict";function a(a,b){window.$.method._exec(a,function(a){a.style.display=b[0]||"block"}),a.promise.resolve()}function b(a){window.$.method._exec(a,function(a){"none"!==a.style.display&&(a.style.display="none")}),a.promise.resolve()}window.$.method.display=["show",a,"hide",b]}(),function(){"use strict";function a(a,b){window.$.method._exec(a,function(a){a.addEventListener(b[0],b[1],b[2])}),a.promise.resolve()}function b(a,b){window.$.method._exec(a,function(a){a.addEventListener(b[0],b[1],b[2])}),a.promise.resolve()}window.$.method.event=["on",a,"off",b]}(),function(){"use strict";function a(a,b){d.method._exec(a,function(a){a.appendChild(b[0].els[0])}),d.cache["delete"](a.selectors),a.promise.resolve()}function b(a,b){a.els[0].insertBefore(b[0].els[0],document.querySelector(b[1])),d.cache.clear(),a.promise.resolve()}function c(a){d.method._exec(a,function(a){a.innerHTML=""}),d.cache.clear(),a.promise.resolve()}var d=window.$;d.method.node=["append",a,"empty",c,"insert",b]}(),function(){"use strict";function a(a){return a.els}function b(a){return a.els[0]}window.$.method.search=["find",a,"get",b]}(),function(){"use strict";function a(a,d){var e=d[0],f=d[1];return void 0!==f||void 0===f&&!window.$.method._isSyncStyle(e)?(window.$.method._exec(a,function(a){var d=c(e),g=0;if(d)for(;g<d.length;)a.style[d[g]]=d[g+=1],++g;else{if(void 0===f&&window.$.method._isSyncStyle(e))return a.style[b(e)];a.style[b(e)]=f}}),void a.promise.resolve()):a.els[0].style[e]}function b(a){for(var b=a.split("-"),c=0,d=!0,e="";c<b.length;)b[c]&&(d?(e+=b[c],d=!1):e+=b[c][0].toUpperCase()+b[c].substr(1)),++c;return e}function c(a){if(-1!==a.indexOf(":")){for(var c,d=a.split(";"),e=d.length,f=[];e--;)d[e]&&(c=d[e].split(":"),f.push(b(c[0]).trim()),f.push(c[1].trim()));return f}return null}window.$.method.style=["style",a]}(),function(){"use strict";window.$.method.time=["delay",function(a,b){setTimeout(function(){a.promise.resolve()},b[0])}]}(),function(){"use strict";window.$.init()}();