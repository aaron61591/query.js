!function(){"use strict";function a(b){var c=this;return c.selectors=b,c.els=[],c.promise=new window.$.Promise,function(){window.$.generator(c,b)||a._initEls(c,b)}(),c}a._initEls=function(a,b){var c=window.$.cache.get(b);c?a.els=c:(a.els=document.querySelectorAll.call(document,b),window.$.cache.set(b,a.els))},window.$=function(b){return new a(b)},window.$.init=function(){window.$.method.setup(a)}}(),function(){"use strict";function a(){this.state=1,this._thenHandler=[]}a.prototype.resolve=function(){var a=this._thenHandler.shift();this.state=1,a&&a()},a.prototype.then=function(a){this.state?(this.state=0,a()):this._thenHandler.push(a)},window.$.Promise=a}(),function(){"use strict";function a(){}a.list=["attribute","node","class","display","event","time"],a._exec=function(a,b){for(var c=0;c<a.els.length;)b.call(a,a.els[c]),++c},a._getMethods=function(){for(var a=this.list.length,b=[];a--;)b=b.concat(this[this.list[a]]);return b},a.GETTERS_EMPTY=["text","html","value","class"],a.GETTERS_SINGLE=["attr"],a._isSyncStyle=function(a){return-1===a.indexOf(":")?!0:!1},a._isSync=function(a,b){return b.length||-1===this.GETTERS_EMPTY.indexOf(a)?1===b.length&&-1!==this.GETTERS_SINGLE.indexOf(a)?!0:"style"===a&&b&&1===b.length&&this._isSyncStyle(b[0])?!0:void 0:!0},a._convert=function(b,c){return function(){var d=this,e=arguments;return a._isSync(b,e)?c.apply(d,e):(this.promise.then(function(){c.apply(d,e)}),this)}},a.push=function(a){this.list.push(a)},a.setup=function(a){for(var b=this._getMethods(),c=0;c<b.length;)a.prototype[b[c]]=this._convert(b[c],b[c+=1]),++c},window.$.method=a}(),function(){"use strict";function a(){}a.REG_HTML_OPEN=/^<([^>]+)>$/,a.REG_HTML_CLOSE=/^<([^>]+)>([\s\S]*)<\/[^>]+>$/,a.REG_ATTRS=/([^=^\s]*)="([^"]*)"/g,a._setupAttr=function(a,b){for(var c;null!==(c=this.REG_ATTRS.exec(b));)a.setAttribute(c[1],c[2])},a._createElesOpen=function(a){var b=this.REG_HTML_OPEN.exec(a),c=document.createElement(b[1].split(" ")[0]);return this._setupAttr(c,b[1]),c},a._createElesClose=function(a){var b=this.REG_HTML_CLOSE.exec(a),c=document.createElement(b[1].split(" ")[0]);return this._setupAttr(c,b[1]),c.innerHTML=b[2],c},a.isSelect=function(a){return!(this.REG_HTML_OPEN.test(a)||this.REG_HTML_CLOSE.test(a))},a.createEles=function(a,b){var c;return c=this.REG_HTML_OPEN.test(b)?this._createElesOpen(b):this._createElesClose(b),a.els.push(c)},window.$.generator=function(b,c){return a.isSelect(c)?null:a.createEles(b,c)}}(),function(){"use strict";function a(){}a.data={},a.get=function(a){return this.data[a]},a.set=function(a,b){this.data[a]=b},a["delete"]=function(a){this.data[a]=null},a.clear=function(){this.data={}},window.$.cache=a}(),function(){"use strict";function a(){}a.METHODS_MAP={text:"innerText",html:"innerHTML",value:"value","class":"className"},a._method=function(a,b,c){return function(d,e){return"attr"!==c&&"style"!==c&&void 0!==d||"attr"===c&&void 0!==e||"style"===c&&void 0!==e||"style"===c&&void 0===e&&!window.$.method._isSyncStyle(d)?(window.$.method._exec(this,function(b){a(b,d,e)}),void this.promise.resolve()):b(this.els[0],d)}},a._generaMethod=function(a){var b=this;return this._method(function(c,d){c[b.METHODS_MAP[a]]=d},function(c){return c[b.METHODS_MAP[a]]},a)},a._getStyleName=function(a){for(var b=a.split("-"),c=0,d=!0,e="";c<b.length;)b[c]&&(d?(e+=b[c],d=!1):e+=b[c][0].toUpperCase()+b[c].substr(1)),++c;return e},a._getMultiStyle=function(a){if(-1!==a.indexOf(":")){for(var b,c=a.split(";"),d=c.length,e=[];d--;)c[d]&&(b=c[d].split(":"),e.push(this._getStyleName(b[0]).trim()),e.push(b[1].trim()));return e}return null},a._generaStyle=function(){return this._method(function(b,c,d){var e=a._getMultiStyle(c),f=0;if(e)for(;f<e.length;)b.style[e[f]]=e[f+=1],++f;else{if(void 0===d&&window.$.method._isSyncStyle(c))return b.style[a._getStyleName(c)];b.style[a._getStyleName(c)]=d}},function(a,b){return a.style[b]},"style")},a._generaAttr=function(){return this._method(function(a,b,c){a.setAttribute(b,c)},function(a,b){return a.getAttribute(b)},"attr")},window.$.method.attribute=function(){var b=[];for(var c in a.METHODS_MAP)a.METHODS_MAP.hasOwnProperty(c)&&(b.push(c),b.push(a._generaMethod(c)));return b.push("attr"),b.push(a._generaAttr()),b.push("style"),b.push(a._generaStyle()),b}()}(),function(){"use strict";function a(){}a._getAddClass=function(){return function(b){window.$.method._exec(this,function(c){a._getExistRegExp(b).test(c.className)||(c.className+=c.className?" "+b:b)}),this.promise.resolve()}},a._getRemoveClass=function(){return function(b){window.$.method._exec(this,function(c){c.className=c.className.replace(a._getExistRegExp(b)," ").trim()}),this.promise.resolve()}},a._getExistRegExp=function(a){var b="^"+a+"$|^"+a+"\\s|\\s"+a+"\\s|\\s"+a+"$";return new RegExp(b)},window.$.method["class"]=["addClass",a._getAddClass(),"removeClass",a._getRemoveClass()]}(),function(){"use strict";function a(){}a._getShow=function(){return function(a){window.$.method._exec(this,function(b){b.style.display=a||"block"}),this.promise.resolve()}},a._getHide=function(){return function(){window.$.method._exec(this,function(a){"none"!==a.style.display&&(a.style.display="none")}),this.promise.resolve()}},window.$.method.display=["show",a._getShow(),"hide",a._getHide()]}(),function(){"use strict";function a(){}a._getOn=function(){return function(a,b,c){window.$.method._exec(this,function(d){d.addEventListener(a,b,c)}),this.promise.resolve()}},a._getOff=function(){return function(a,b,c){window.$.method._exec(this,function(d){d.addEventListener(a,b,c)}),this.promise.resolve()}},window.$.method.event=["on",a._getOn(),"off",a._getOff()]}(),function(){"use strict";function a(){}var b=window.$;a._getAppend=function(){return function(a){b.method._exec(this,function(b){b.appendChild(a.els[0])}),b.cache["delete"](this.selectors),this.promise.resolve()}},a._getEmpty=function(){return function(){b.method._exec(this,function(a){a.innerHTML=""}),b.cache.clear(),this.promise.resolve()}},a._getInsert=function(){return function(a,c){this.els[0].insertBefore(a.els[0],document.querySelector(c)),b.cache.clear(),this.promise.resolve()}},b.method.node=["append",a._getAppend(),"empty",a._getEmpty(),"insert",a._getInsert()]}(),function(){"use strict";function a(){}a._getDelay=function(){return function(a){var b=this;setTimeout(function(){b.promise.resolve()},a)}},window.$.method.time=["delay",a._getDelay()]}(),function(){"use strict";window.$.init()}();